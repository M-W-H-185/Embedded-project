A51 MACRO ASSEMBLER  TEST                                                                 12/28/2023 14:20:22 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\test.OBJ
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE .\Objects\test.src PR(.\Listings\test.ls1) EP DEBUG

LOC  OBJ            LINE     SOURCE

                       1     ; .\Objects\test.SRC generated from: test.c
                       2     ; COMPILER INVOKED BY:
                       3     ;        C:\Keil_v5\C51\BIN\C51.EXE test.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\XmRTOS) DEBUG 
                             OBJECTEXTEND CODE PRINT(.\Listings\test.lst) SRC(.\Objects\test.SRC)
                       4     
                       5     
                       6     NAME    TEST
                       7     
                       8     ?PR?PUSH_ALL_STACK?TEST                  SEGMENT CODE 
                       9     ?PR?POP_ALL_STACK?TEST                   SEGMENT CODE 
                      10             PUBLIC  POP_ALL_STACK
                      11             PUBLIC  PUSH_ALL_STACK
                      12     ; 
                      13     ; void PUSH_ALL_STACK(void)
                      14     
----                  15             RSEG  ?PR?PUSH_ALL_STACK?TEST
0000                  16     PUSH_ALL_STACK:
                      17             USING   0
                      18                             ; SOURCE LINE # 2
                      19     ; {
                      20                             ; SOURCE LINE # 3
                      21     ;         __asm PUSH PSW
0000 C0D0             22              PUSH PSW
                      23     ;         __asm PUSH ACC
0002 C0E0             24              PUSH ACC
                      25     ;         __asm PUSH B
0004 C0F0             26              PUSH B
                      27     ;         __asm PUSH DPL
0006 C082             28              PUSH DPL
                      29     ;         __asm PUSH DPH
0008 C083             30              PUSH DPH
                      31     ;         __asm MOV  A,R0       ;R0~R7入栈
000A E8               32              MOV  A,R0      ;R0~R7入栈
                      33     ;         __asm PUSH ACC
000B C0E0             34              PUSH ACC
                      35     ;         __asm MOV  A,R1
000D E9               36              MOV  A,R1
                      37     ;         __asm PUSH ACC
000E C0E0             38              PUSH ACC
                      39     ;         __asm MOV  A,R2
0010 EA               40              MOV  A,R2
                      41     ;         __asm PUSH ACC
0011 C0E0             42              PUSH ACC
                      43     ;         __asm MOV  A,R3
0013 EB               44              MOV  A,R3
                      45     ;         __asm PUSH ACC
0014 C0E0             46              PUSH ACC
                      47     ;         __asm MOV  A,R4
0016 EC               48              MOV  A,R4
                      49     ;         __asm PUSH ACC
0017 C0E0             50              PUSH ACC
                      51     ;         __asm MOV  A,R5
0019 ED               52              MOV  A,R5
                      53     ;         __asm PUSH ACC
001A C0E0             54              PUSH ACC
                      55     ;         __asm MOV  A,R6
001C EE               56              MOV  A,R6
                      57     ;         __asm PUSH ACC
A51 MACRO ASSEMBLER  TEST                                                                 12/28/2023 14:20:22 PAGE     2

001D C0E0             58              PUSH ACC
                      59     ;         __asm MOV  A,R7
001F EF               60              MOV  A,R7
                      61     ;         __asm PUSH ACC
0020 C0E0             62              PUSH ACC
                      63     ;       
                      64     ; }
                      65                             ; SOURCE LINE # 26
0022 22               66             RET     
                      67     ; END OF PUSH_ALL_STACK
                      68     
                      69     ; void POP_ALL_STACK(void)
                      70     
----                  71             RSEG  ?PR?POP_ALL_STACK?TEST
0000                  72     POP_ALL_STACK:
                      73             USING   0
                      74                             ; SOURCE LINE # 27
                      75     ; {
                      76                             ; SOURCE LINE # 28
                      77     ; 
                      78     ;         __asm POP  ACC        ;R0~R7出栈
0000 D0E0             79              POP  ACC       ;R0~R7出栈
                      80     ;         __asm MOV  R7,A
0002 FF               81              MOV  R7,A
                      82     ;         __asm POP  ACC
0003 D0E0             83              POP  ACC
                      84     ;         __asm MOV  R6,A
0005 FE               85              MOV  R6,A
                      86     ;         __asm POP  ACC
0006 D0E0             87              POP  ACC
                      88     ;         __asm MOV  R5,A
0008 FD               89              MOV  R5,A
                      90     ;         __asm POP  ACC
0009 D0E0             91              POP  ACC
                      92     ;         __asm MOV  R4,A
000B FC               93              MOV  R4,A
                      94     ;         __asm POP  ACC
000C D0E0             95              POP  ACC
                      96     ;         __asm MOV  R3,A
000E FB               97              MOV  R3,A
                      98     ;         __asm POP  ACC
000F D0E0             99              POP  ACC
                     100     ;         __asm MOV  R2,A
0011 FA              101              MOV  R2,A
                     102     ;         __asm POP  ACC
0012 D0E0            103              POP  ACC
                     104     ;         __asm MOV  R1,A
0014 F9              105              MOV  R1,A
                     106     ;         __asm POP  ACC
0015 D0E0            107              POP  ACC
                     108     ;         __asm MOV  R0,A
0017 F8              109              MOV  R0,A
                     110     ;         __asm POP  DPH
0018 D083            111              POP  DPH
                     112     ;         __asm POP  DPL
001A D082            113              POP  DPL
                     114     ;         __asm POP  B
001C D0F0            115              POP  B
                     116     ;         __asm POP  ACC
001E D0E0            117              POP  ACC
                     118     ;         __asm POP  PSW        
0020 D0D0            119              POP  PSW       
                     120     ; }                     ; SOURCE LINE # 51
0022 22              121             RET     
                     122     ; END OF POP_ALL_STACK
                     123     
A51 MACRO ASSEMBLER  TEST                                                                 12/28/2023 14:20:22 PAGE     3

                     124             END
A51 MACRO ASSEMBLER  TEST                                                                 12/28/2023 14:20:22 PAGE     4

SYMBOL TABLE LISTING
------ ----- -------


N A M E                  T Y P E  V A L U E   ATTRIBUTES

?PR?POP_ALL_STACK?TEST.  C SEG    0023H       REL=UNIT
?PR?PUSH_ALL_STACK?TEST  C SEG    0023H       REL=UNIT
ACC . . . . . . . . . .  D ADDR   00E0H   A   
B . . . . . . . . . . .  D ADDR   00F0H   A   
DPH . . . . . . . . . .  D ADDR   0083H   A   
DPL . . . . . . . . . .  D ADDR   0082H   A   
POP_ALL_STACK . . . . .  C ADDR   0000H   R   SEG=?PR?POP_ALL_STACK?TEST
PSW . . . . . . . . . .  D ADDR   00D0H   A   
PUSH_ALL_STACK. . . . .  C ADDR   0000H   R   SEG=?PR?PUSH_ALL_STACK?TEST
TEST. . . . . . . . . .  N NUMB   -----       


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
